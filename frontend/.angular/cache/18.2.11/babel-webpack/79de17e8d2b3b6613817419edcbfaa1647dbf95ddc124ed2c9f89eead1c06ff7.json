{"ast":null,"code":"import _asyncToGenerator from \"C:/Sistemas/Crud_angular/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/components/product/product.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/card\";\nimport * as i4 from \"@angular/material/progress-bar\";\nfunction HomeComponent_mat_progress_bar_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-bar\", 2);\n  }\n}\nfunction HomeComponent_div_1_mat_card_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 6);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_1_mat_card_4_Template_mat_card_click_0_listener() {\n      const itemProduto_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.selecionarProduto(itemProduto_r2));\n    });\n    i0.ɵɵelementStart(1, \"mat-card-title\", 7)(2, \"h2\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"mat-card-subtitle\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const itemProduto_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.getCssClassProduto(itemProduto_r2));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" #\", itemProduto_r2.id, \" - \", itemProduto_r2.nome, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" R$ \", itemProduto_r2.valor, \" \");\n  }\n}\nfunction HomeComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"h2\");\n    i0.ɵɵtext(2, \"Produtos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 4);\n    i0.ɵɵtemplate(4, HomeComponent_div_1_mat_card_4_Template, 6, 4, \"mat-card\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.produtos);\n  }\n}\nclass Produto {\n  constructor() {\n    this.id = 0;\n    this.nome = \"\";\n    this.valor = 0;\n    this.isSelecionado = false;\n  }\n}\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(productService) {\n      this.productService = productService;\n      this.produtos = [];\n      this.loading = false;\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        _this.loading = true;\n        let produtosApi = yield _this.productService.read();\n        _this.produtos = produtosApi.map(productMap => {\n          return {\n            id: productMap.id,\n            nome: productMap.name,\n            valor: productMap.price,\n            isSelecionado: false\n          };\n        });\n        _this.loading = false;\n      })();\n    }\n    selecionarProduto(produto) {\n      this.produtos = this.produtos.map(produtoMap => {\n        if (produtoMap.id == produto.id) {\n          produtoMap.isSelecionado = true;\n        } else {\n          produtoMap.isSelecionado = false;\n        }\n        return produtoMap;\n      });\n    }\n    getCssClassProduto(produto) {\n      let listaClasses = [\"produto\"];\n      if (produto.isSelecionado) {\n        listaClasses.push(\"produto-selecionado\");\n      }\n      return listaClasses;\n    }\n    static #_ = (() => this.ɵfac = function HomeComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || HomeComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n    })();\n    static #_2 = (() => this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HomeComponent,\n      selectors: [[\"app-home\"]],\n      decls: 2,\n      vars: 2,\n      consts: [[\"mode\", \"buffer\", 4, \"ngIf\"], [\"class\", \"conteudo-produtos\", 4, \"ngIf\"], [\"mode\", \"buffer\"], [1, \"conteudo-produtos\"], [1, \"card2\"], [\"class\", \"home mat-elevation-z3\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"home\", \"mat-elevation-z3\", 3, \"click\", \"ngClass\"], [1, \"title\"], [1, \"subtitle\"]],\n      template: function HomeComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, HomeComponent_mat_progress_bar_0_Template, 1, 0, \"mat-progress-bar\", 0)(1, HomeComponent_div_1_Template, 5, 1, \"div\", 1);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.MatCard, i3.MatCardSubtitle, i3.MatCardTitle, i4.MatProgressBar],\n      styles: [\".home[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:3rem;font-weight:300;line-height:1.2}.home[_ngcontent-%COMP%]{height:10rem;margin:10px;justify-content:center;padding:1rem;display:flex;flex-direction:column;align-items:center;text-align:center}.home[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.1rem}.card2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr}.produto-selecionado[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}\"]\n    }))();\n  }\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}